add_subdirectory(Stopwatches)

# Add LodePNG without editing the git submodule
add_library(lodepng STATIC
  ${CMAKE_CURRENT_SOURCE_DIR}/lodepng/lodepng.cpp
  )

target_include_directories(lodepng 
  INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/lodepng
  )

add_subdirectory(lodepng_wrapper)
add_subdirectory(utilities)
add_subdirectory(opencl_base)
add_subdirectory(opencl_hello_world)
add_subdirectory(occlusion_fill)

add_executable(phase1 phase1.cpp)
target_link_libraries(phase1
  PRIVATE
  lodepng_wrapper
  utilities
  stopwatches
  )

add_executable(phase2 phase2.cpp)
target_link_libraries(phase2
  PRIVATE
  lodepng_wrapper
  utilities
  stopwatches
  occlusion_fill
  )

add_executable(phase3 phase3.cpp)
target_link_libraries(phase3
  PRIVATE
  lodepng_wrapper
  utilities
  stopwatches
  occlusion_fill
  )

add_executable(phase4 phase4.cpp)
target_link_libraries(phase4
  PRIVATE
  lodepng_wrapper
  utilities
  stopwatches
  occlusion_fill
  opencl_base
  compiler_flags
  )